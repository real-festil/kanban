(this.webpackJsonpkanban=this.webpackJsonpkanban||[]).push([[0],{20:function(e,t,n){e.exports={Comment:"commentItem_Comment__1rxLZ",CommentText:"commentItem_CommentText__UIyKI",CommentTextChange:"commentItem_CommentTextChange__2YYL8",CommentControl:"commentItem_CommentControl__2EQK3"}},22:function(e,t,n){e.exports={Card:"card_Card__VrAYX",CardName:"card_CardName__2bQYP",CardComments:"card_CardComments__MH0xe"}},24:function(e,t,n){e.exports={Layout:"layout_Layout__zSyIR",Header:"layout_Header__X-0FB"}},25:function(e,t,n){e.exports={DescriptionTextArea:"description_DescriptionTextArea__11H08",SaveButton:"description_SaveButton__dcLnU"}},28:function(e,t,n){e.exports={AddCardControl:"addCard_AddCardControl__14dB_",ButtonWrapper:"addCard_ButtonWrapper__3Uhw0"}},34:function(e,t,n){e.exports={Column:"column_Column__2HWaQ"}},35:function(e,t,n){e.exports={Caption:"caption_Caption__10JVT"}},37:function(e,t,n){e.exports={AddComment:"commentCreateForm_AddComment__XqS7s"}},38:function(e,t,n){e.exports={SubHeading:"modal_SubHeading__1GAYN"}},40:function(e,t,n){e.exports={ModalBody:"login_ModalBody__1Ouss"}},42:function(e,t,n){e.exports=n(54)},47:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(13),c=n.n(r),m=(n(47),n(48),n(30)),s=n(23),l=n(5),i=n(6),u=n(9),d=n(7),C=n(10),h=n(56),p=n(58),f=n(57),g=n(24),v=n.n(g),S=n(34),b=n.n(S),E=n(59),N=n(60),y=n(35),O=n.n(y),D=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={labelValue:n.props.captionName,isLabelShowed:!1},n.onInputBlurred=function(){var e=n.state.labelValue,t=n.props.captionName;n.setState({isLabelShowed:!1}),e||n.setState({labelValue:t}),n.props.changeInputName(e||t)},n.inputKeyHandler=function(e){"Enter"!==e.key&&"Escape"!==e.key||(n.setState({isLabelShowed:!1}),n.onInputBlurred())},n}return Object(C.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.isLabelShowed,a=t.labelValue;return o.a.createElement("div",{className:O.a.Caption},n?o.a.createElement("input",{autoFocus:!0,onChange:function(t){return e.setState({labelValue:t.target.value})},onBlur:this.onInputBlurred,onKeyUp:this.inputKeyHandler,value:a}):o.a.createElement("h5",{md:4,onClick:function(){return e.setState({isLabelShowed:!0})}},a))}}]),t}(a.Component),_=n(25),j=n.n(_),x=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={isOpened:!1,description:n.props.cardDesc},n.onDescSaved=function(e){n.setState({isOpened:!1},(function(){return n.props.onDescSaved(e)}))},n}return Object(C.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.isOpened,a=t.description;return o.a.createElement(o.a.Fragment,null,o.a.createElement("b",null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),n?o.a.createElement("div",null,o.a.createElement("textarea",{autoFocus:!0,onChange:function(t){return e.setState({description:t.target.value})},value:a,className:j.a.DescriptionTextArea}),o.a.createElement(N.a,{className:j.a.SaveButton,onClick:function(){return e.onDescSaved(a)}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),o.a.createElement(N.a,{className:"btn btn-secondary",onClick:function(){return e.setState({isOpened:!1,description:e.props.cardDesc})}},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c")):o.a.createElement("p",{onClick:function(){return e.setState({isOpened:!0})}},a||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"))}}]),t}(a.Component),k=n(37),w=n.n(k),A=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={isCommentFocus:!1,commentText:""},n.onCommentSaved=function(e){n.props.onCommentSaved(n.state.commentText),n.setState({isCommentFocus:!1,commentText:""})},n}return Object(C.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.isCommentFocus,a=t.commentText;return o.a.createElement(o.a.Fragment,null,o.a.createElement("b",null,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"),o.a.createElement("div",{className:w.a.AddComment,style:{height:n?"150px":"50px"},onChange:function(t){return t.target.value?e.setState({isCommentFocus:!0}):e.setState({isCommentFocus:!1})}},o.a.createElement("textarea",{placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",value:a,onChange:function(t){return e.setState({commentText:t.target.value})}}),n&&o.a.createElement(N.a,{className:"btn btn-success",onClick:this.onCommentSaved,onFocus:function(){return e.setState({isCommentFocus:!0})}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))}}]),t}(a.Component),F=n(20),I=n.n(F),T=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={isCommentChanging:!1,commentText:n.props.commentText},n.onCommentSave=function(){n.setState({isCommentChanging:!1},(function(){return n.props.onCommentChange(n.state.commentText)}))},n.onCommentChange=function(e){n.setState({isCommentChanging:!0,commentText:e.target.value})},n}return Object(C.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onCommentDelete,n=e.username,a=e.commentText,r=this.state.isCommentChanging;return o.a.createElement("div",{className:I.a.Comment},o.a.createElement("b",null,n),o.a.createElement("div",{className:I.a.CommentText},r?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:I.a.CommentTextChange},o.a.createElement("textarea",{autoFocus:!0,defaultValue:a,onChange:this.onCommentChange})),o.a.createElement(N.a,{className:"btn btn-success",onClick:this.onCommentSave},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")):o.a.createElement("p",null,a)),o.a.createElement("div",{className:I.a.CommentControl},o.a.createElement("p",{onClick:this.onCommentChange},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),o.a.createElement("p",{onClick:t},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))}}]),t}(a.Component),H=n(38),B=n.n(H),L=function(e){var t=e.colName,n=e.changeCardName,a=e.onDescSaved,r=e.onDescUndo,c=e.onCommentSaved,m=e.comments,s=e.onCommentChange,l=e.onCommentDelete,i=e.username,u=e.show,d=e.onHide,C=e.cardName,h=e.cardDesc;return o.a.createElement(E.a,{show:u,onHide:d,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},o.a.createElement(E.a.Header,{closeButton:!0},o.a.createElement(E.a.Title,{id:"contained-modal-title-vcenter"},o.a.createElement(D,{captionName:C,changeInputName:n}),o.a.createElement("p",{className:B.a.SubHeading},"\u0432 \u043a\u043e\u043b\u043e\u043d\u043a\u0435 ",t))),o.a.createElement(E.a.Body,null,o.a.createElement(x,{cardDesc:h,onDescSaved:a,onDescUndo:r})),o.a.createElement(E.a.Body,null,o.a.createElement(A,{onCommentSaved:c}),m.map((function(e,t){var n=e.id,a=e.value;return o.a.createElement(T,{key:t,onCommentChange:function(e){return s(e,n)},commentText:a,onCommentDelete:function(){return l(n)},username:i})}))),o.a.createElement(E.a.Footer,null,o.a.createElement(N.a,{className:"btn btn-danger",onClick:function(){var t=e.onCardDelete,n=e.onHide;t(),n()}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),o.a.createElement(N.a,{onClick:d},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")))},J=n(22),M=n.n(J),V=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={isModalShowed:!1},n.onModalToggle=function(){return n.setState({isModalShowed:!n.state.isModalShowed})},n}return Object(C.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.colName,n=e.changeCardName,a=e.onCardDelete,r=e.onDescSaved,c=e.onCommentSaved,m=e.comments,s=e.onCommentChange,l=e.onCommentDelete,i=e.username,u=e.cardName,d=e.cardDesc,C=this.state.isModalShowed;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:M.a.Card,onClick:this.onModalToggle,type:"button"},o.a.createElement("div",{className:M.a.CardName},o.a.createElement("p",null,u)),o.a.createElement("div",{className:M.a.CardComments},o.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/1946/1946412.svg",alt:""}),o.a.createElement("p",null,m.length))),o.a.createElement(L,{cardDesc:d,onDescSaved:r,onCardDelete:a,clicked:this.changeDesc,show:C,onHide:this.onModalToggle,cardName:u,colName:t,changeCardName:n,onCommentSaved:c,onCommentChange:s,onCommentDelete:l,comments:m,username:i}))}}]),t}(a.Component),K=n(28),U=n.n(K),W=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={cardName:"",isCardFormOpened:!1},n.onCardAdded=function(){n.props.onCardAdded(n.state.cardName),n.onCardFormClosed()},n.onCardFormClosed=function(){return n.setState({cardName:"",isCardFormOpened:!1})},n.inputKeyHandler=function(e){"Enter"===e.key&&n.onCardAdded(),"Escape"===e.key&&n.onCardFormClosed()},n}return Object(C.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.isCardFormOpened,a=t.cardName;return o.a.createElement(o.a.Fragment,null,n?o.a.createElement("div",{className:U.a.AddCardControl},o.a.createElement("input",{autoFocus:!0,onChange:function(t){return e.setState({cardName:t.target.value})},value:a,onKeyUp:this.inputKeyHandler,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"}),o.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.onCardAdded},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),o.a.createElement("button",{onClick:this.onCardFormClosed,type:"button",className:"btn btn-secondary"},"\u041e\u0442\u043c\u0435\u043d\u0430")):o.a.createElement("div",{className:U.a.ButtonWrapper},o.a.createElement("button",{type:"button",onClick:function(){return e.setState({isCardFormOpened:!0})},className:"btn btn-outline-primary"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443")))}}]),t}(a.Component),Y=function(e){var t=e.colName,n=e.cards,a=e.changeCardName,r=e.onCardAdded,c=e.onCardDelete,m=e.onDescSaved,s=e.onCommentSaved,l=e.comments,i=e.onCommentChange,u=e.onCommentDelete,d=e.username;return o.a.createElement(o.a.Fragment,null,n.map((function(e,n){var r=e.name,C=e.id,h=e.cardDesc;return o.a.createElement("div",{key:n},o.a.createElement(V,{index:C,cardNameValue:r,onCardDelete:function(){return c(C)},cardName:r,colName:t,changeCardName:function(e){return a(e,C)},cardDesc:h,onDescSaved:function(e){return m(e,C)},onCommentSaved:function(e){return s(e,C)},comments:l.filter((function(e){return e.cardId===C})),onCommentChange:i,onCommentDelete:u,username:d}))})),o.a.createElement(W,{cards:n,colName:t,onCardAdded:r}))},z=function(e){var t=e.colName,n=e.cards,a=e.changeCardName,r=e.changeColumnName,c=e.onCardAdded,m=e.onCardDelete,s=e.onDescSaved,l=e.onCommentSaved,i=e.comments,u=e.onCommentChange,d=e.onCommentDelete,C=e.username;return o.a.createElement(h.a,{className:b.a.Column},o.a.createElement(f.a,null,o.a.createElement(p.a,null,o.a.createElement(D,{captionName:t,changeInputName:r})),o.a.createElement(p.a,null,o.a.createElement(h.a,null,o.a.createElement(Y,{colName:t,cards:n,changeCardName:a,onCardAdded:c,onCardDelete:m,onDescSaved:s,onCommentSaved:l,comments:i,onCommentChange:u,onCommentDelete:d,username:C})))))},Q=n(40),X=n.n(Q),P=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).state={username:""},n.usernameChanged=function(e){n.setState({username:e.target.value})},n.onLogin=function(){var e=n.state.username;e?n.props.onHide(e):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")},n}return Object(C.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(E.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),o.a.createElement(E.a.Header,null,o.a.createElement(E.a.Title,{id:"contained-modal-title-vcenter"},"\u0412\u0445\u043e\u0434")),o.a.createElement(E.a.Body,{className:X.a.ModalBody},o.a.createElement("p",null,"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: "),o.a.createElement("input",{placeholder:"username",value:this.state.username,onChange:this.usernameChanged})),o.a.createElement(E.a.Footer,null,o.a.createElement(N.a,{onClick:this.onLogin},"\u0412\u043e\u0439\u0442\u0438")))}}]),t}(a.Component),q=n(29),G=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(o)))).initialState={columnsList:[{id:0,name:"ToDo"},{id:1,name:"InProgress"},{id:2,name:"Testing"},{id:3,name:"Done"}],username:"",cards:[],comments:[],isLoginShow:!1},n.state=JSON.parse(localStorage.getItem("state"))||n.initialState,n.changeColumnName=function(e,t){n.setState((function(n){return{columnsList:n.columnsList.map((function(n){return n.id===t?Object(s.a)({},n,{name:e}):n}))}}),(function(){return localStorage.setItem("state",JSON.stringify(n.state))}))},n.onCardAdded=function(e,t){var a=n.state.cards;""===e?alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"):n.setState({cards:[].concat(Object(m.a)(a),[{id:Object(q.v4)(),colId:t,name:e,comments:0,cardDesc:""}])},(function(){return localStorage.setItem("state",JSON.stringify(n.state))}))},n.onCardDelete=function(e){n.setState((function(t){return{cards:t.cards.filter((function(t){return t.id!==e}))}}),(function(){return localStorage.setItem("state",JSON.stringify(n.state))}))},n.changeCardData=function(e,t){n.setState((function(n){return{cards:n.cards.map((function(n){return n.id===t?Object(s.a)({},n,{},e):n}))}}),(function(){return localStorage.setItem("state",JSON.stringify(n.state))}))},n.onCommentSaved=function(e,t){var a=n.state,o=a.comments,r=a.username;n.setState({comments:[].concat(Object(m.a)(o),[{id:Object(q.v4)(),cardId:t,value:e,username:r}])},(function(){return localStorage.setItem("state",JSON.stringify(n.state))}))},n.onCommentChange=function(e,t){n.setState((function(n){return{comments:n.comments.map((function(n){return n.id===t?Object(s.a)({},n,{value:e||n.value}):n}))}}),(function(){return localStorage.setItem("state",JSON.stringify(n.state))}))},n.onCommentDelete=function(e){n.setState((function(t){return{comments:t.comments.filter((function(t){return t.id!==e}))}}),(function(){return localStorage.setItem("state",JSON.stringify(n.state))}))},n.onHide=function(e){n.setState({username:e,isLoginShow:!1},(function(){return localStorage.setItem("state",JSON.stringify(n.state))}))},n}return Object(C.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.username||this.setState({isLoginShow:!0},(function(){return localStorage.setItem("state",JSON.stringify(e.state))}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.columnsList,a=t.isLoginShow;return o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,{className:v.a.Layout},o.a.createElement(p.a,{className:v.a.Header},o.a.createElement(f.a,{md:12},o.a.createElement("h1",{className:"text-center"},"Trello"))),o.a.createElement(p.a,null,n.map((function(t){var n=e.state,a=n.cards,r=n.comments,c=n.username,m=a.filter((function(e){return e.colId===t.id}));return o.a.createElement(f.a,{xs:6,sm:3,md:3,key:t.id},o.a.createElement(z,{colName:t.name,onCardAdded:function(n){return e.onCardAdded(n,t.id)},onCardDelete:e.onCardDelete,changeCardName:function(t,n){return e.changeCardData({name:t},n)},changeColumnName:function(n){return e.changeColumnName(n,t.id)},cards:m,onDescSaved:function(t,n){return e.changeCardData({cardDesc:t},n)},onCommentSaved:e.onCommentSaved,comments:r,onCommentChange:e.onCommentChange,onCommentDelete:e.onCommentDelete,username:c}))})))),o.a.createElement(P,{show:a,onHide:this.onHide}))}}]),t}(a.Component);n(53);var R=function(){return o.a.createElement(G,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[42,1,2]]]);
//# sourceMappingURL=main.18066867.chunk.js.map