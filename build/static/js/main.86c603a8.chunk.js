(this.webpackJsonpkanban=this.webpackJsonpkanban||[]).push([[0],{19:function(e,t,n){e.exports={Comment:"comment_Comment__X6k4r",CommentText:"comment_CommentText__2g1-l",CommentTextChange:"comment_CommentTextChange__O1r-G",CommentControl:"comment_CommentControl__OEj2f"}},22:function(e,t,n){e.exports={SubHeading:"modal_SubHeading__1GAYN",AddComment:"modal_AddComment__3WBPF"}},23:function(e,t,n){e.exports={Layout:"layout_Layout__zSyIR",Header:"layout_Header__X-0FB"}},27:function(e,t,n){e.exports={Column:"column_Column__1P_Np"}},30:function(e,t,n){e.exports={Card:"card_Card__1juVq"}},32:function(e,t,n){e.exports=n(42)},37:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(13),r=n.n(s),c=(n(37),n(38),n(6)),m=n(7),i=n(10),l=n(8),u=n(11),d=n(44),p=n(46),h=n(45),g=n(23),f=n.n(g),C=n(27),N=n.n(C),x=n(47),S=n(48),b=n(19),y=n.n(b),E=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={isCommentChanging:!1,commentText:n.props.commentText},n.commentChangeRef=o.a.createRef(),n.onCommentChange=function(e){n.setState({isCommentChanging:!0}),setTimeout((function(){return e.current.focus()}),0)},n.onCommentTextChange=function(e){n.setState({commentText:e.target.value})},n.onCommentSaved=function(){n.setState({isCommentChanging:!1}),setTimeout((function(){return n.props.onCommentTextChanged(n.state.commentText)}),0)},n}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:y.a.Comment},o.a.createElement("b",null,this.props.username),o.a.createElement("div",{className:y.a.CommentText},o.a.createElement("p",{style:{display:this.state.isCommentChanging?"none":"block"}},this.state.commentText),o.a.createElement("div",{className:y.a.CommentTextChange},o.a.createElement("textarea",{defaultValue:this.state.commentText,ref:this.commentChangeRef,onChange:this.onCommentTextChange,style:{display:this.state.isCommentChanging?"block":"none"}})),o.a.createElement(S.a,{className:"btn btn-success",onClick:this.onCommentSaved,style:{display:this.state.isCommentChanging?"block":"none"}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),o.a.createElement("div",{className:y.a.CommentControl},o.a.createElement("p",{onClick:function(){return e.onCommentChange(e.commentChangeRef)}},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),o.a.createElement("p",{onClick:this.props.onCommentDelete},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))}}]),t}(a.Component),I=n(22),v=n.n(I),k=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={isNameInputFocused:!1,isDescFocused:!1,isCommentChanged:!1,textarea:"",commentText:"",commentsCount:0,comments:[]},n.nameInput=o.a.createRef(),n}return Object(u.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({commentsCount:JSON.parse(localStorage.getItem(this.props.colName+" "+this.props.cardName+" "+this.props.index+" commentsCount"))+1||0,comments:JSON.parse(localStorage.getItem(this.props.colName+" "+this.props.cardName+" "+this.props.index+" comments"))||[]}),setTimeout((function(){return e.props.commentsCount(e.state.comments.length)}),0)}},{key:"render",value:function(){var e=this;return o.a.createElement(x.a,{show:this.props.show,onHide:this.props.onHide,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},o.a.createElement(x.a.Header,{closeButton:!0},o.a.createElement(x.a.Title,{id:"contained-modal-title-vcenter"},o.a.createElement("p",{style:{display:this.state.isNameInputFocused?"none":"block",cursor:"pointer"},onClick:function(){e.setState({isNameInputFocused:!0}),e.nameInput.current.focus()}},this.props.cardName),o.a.createElement("input",{onChange:this.props.cardNameChanged,value:this.props.cardNameValue,ref:this.nameInput,onFocus:this.props.focused,onBlur:function(){e.setState({isNameInputFocused:!1}),e.props.blurred()},style:{position:this.state.isNameInputFocused?"static":"absolute",top:"3%",marginLeft:"-1px",width:"90%",border:"1px solid #0079bf",fontSize:"24px",fontWeight:"500",padding:"1px 0",marginBottom:"18px",lineHeight:"1.2",zIndex:this.state.isNameInputFocused?"1":"-1"}}),o.a.createElement("p",{className:v.a.SubHeading},"\u0432 \u043a\u043e\u043b\u043e\u043d\u043a\u0435 ",this.props.colName))),o.a.createElement(x.a.Body,null,o.a.createElement("b",null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),o.a.createElement("p",{onClick:function(){e.setState({isDescFocused:!0})},style:{display:this.state.isDescFocused?"none":"block",cursor:"pointer"}},this.props.cardDesc),o.a.createElement("div",{style:{display:this.state.isDescFocused?"block":"none"}},o.a.createElement("textarea",{onChange:function(t){e.setState({textarea:t.target.value})},defaultValue:this.props.cardDesc,style:{width:"100%",height:"100px",resize:"none"}}),o.a.createElement(S.a,{style:{marginRight:"20px"},onClick:function(){e.setState({isDescFocused:!1}),e.props.onDescSaved(e.state.textarea)}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),o.a.createElement(S.a,{className:"btn btn-secondary",onClick:function(){e.setState({isDescFocused:!1}),e.props.onDescUndo()}},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"))),o.a.createElement(x.a.Body,null,o.a.createElement("b",null,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"),o.a.createElement("div",{className:v.a.AddComment,style:{height:this.state.isCommentChanged?"150px":"50px"}},o.a.createElement("textarea",{placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",value:this.state.commentText,onChange:function(t){""!==t.target.value?e.setState({isCommentChanged:!0,commentText:t.target.value}):e.setState({isCommentChanged:!1})}}),o.a.createElement(S.a,{className:"btn btn-success",onClick:function(){var t=e.state.commentsCount+1,n=e.state.comments;n.unshift({index:t,commentText:e.state.commentText,commentAuthor:e.props.username}),e.setState({comments:n,commentsCount:t,isCommentChanged:!1,commentText:""}),localStorage.setItem(e.props.colName+" "+e.props.cardName+" "+e.props.index+" comments",JSON.stringify(e.state.comments)),localStorage.setItem(e.props.colName+" "+e.props.cardName+" "+e.props.index+" commentsCount",e.state.commentsCount),setTimeout((function(){return e.props.commentsCount(e.state.comments.length)}),0)},style:{display:this.state.isCommentChanged?"block":"none"}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")),o.a.createElement("div",{className:v.a.Comment},this.state.comments.map((function(t){return o.a.createElement(E,{key:t.index,onCommentTextChanged:function(n){return function(t,n){var a=e.state.comments;a[a.findIndex((function(e){return e.index===t}))].commentText=n,e.setState({comments:a}),setTimeout((function(){return localStorage.setItem(e.props.colName+" "+e.props.cardName+" "+e.props.index+" comments",JSON.stringify(e.state.comments))}),0)}(t.index,n)},commentText:t.commentText,onCommentDelete:function(){return function(t){var n=e.state.comments;n=n.filter((function(e){return e.index!==t})),e.setState({comments:n}),console.log(e.state.comments),setTimeout((function(){return localStorage.setItem(e.props.colName+" "+e.props.cardName+" "+e.props.index+" comments",JSON.stringify(e.state.comments))}),0),setTimeout((function(){return e.props.commentsCount(e.state.comments.length)}),0)}(t.index)},username:t.commentAuthor})})))),o.a.createElement(x.a.Footer,null,o.a.createElement(S.a,{className:"btn btn-danger",onClick:function(){e.props.onDelete(),e.props.onHide()}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),o.a.createElement(S.a,{onClick:this.props.onHide},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")))}}]),t}(a.Component),T=n(30),O=n.n(T),w=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={isModalShowed:!1,commentsCount:0,cardDesc:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",username:""},n.onModalShowed=function(){n.setState({isModalShowed:!n.state.isModalShowed}),console.log(n.props.index)},n.onDescSaved=function(e){""!==e?(n.setState({cardDesc:e}),setTimeout((function(){return localStorage.setItem(n.props.colName+" "+n.props.cardName+" "+n.props.index+" desc",n.state.cardDesc)}),0)):n.setState({cardDesc:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})},n.onDescUndo=function(){n.setState({cardDesc:localStorage.getItem(n.props.colName+" "+n.props.cardName+" "+n.props.index+" desc")||"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"})},n}return Object(u.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.setState({cardDesc:localStorage.getItem(this.props.colName+" "+this.props.cardName+" "+this.props.index+" desc")||"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",username:localStorage.getItem("username")})}},{key:"render",value:function(){var e=this;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:O.a.Card,onClick:this.onModalShowed,type:"button"},o.a.createElement("p",null,this.props.cardName),o.a.createElement("div",{style:{display:"flex",width:"15%"}},o.a.createElement("img",{style:{width:"50%",marginRight:"5px"},src:"https://image.flaticon.com/icons/svg/1946/1946412.svg",alt:""}),o.a.createElement("p",null,this.state.commentsCount))),o.a.createElement(k,{onDescSaved:function(t){return e.onDescSaved(t)},commentsCount:function(t){return e.setState({commentsCount:t})},cardNameValue:this.props.cardNameValue,focused:this.props.focused,blurred:this.props.blurred,username:this.state.username,onDelete:this.props.onDelete,onDescUndo:this.onDescUndo,cardDesc:this.state.cardDesc,index:this.props.index,clicked:this.changeDesc,show:this.state.isModalShowed,onHide:this.onModalShowed,cardName:this.props.cardName,colName:this.props.colName,cardNameChanged:this.props.cardNameChanged}))}}]),t}(a.Component),D=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={username:"",colName:n.props.colName,cardName:"",isHeadingInputFocused:!1,isCardInputFocused:!1,cards:[],cardsCount:0},n.headingInput=o.a.createRef(),n.cardInput=o.a.createRef(),n.cards=[],n.defaultCardName="",n.inputChangeHandler=function(e,t){switch(t){case n.headingInput:n.setState({colName:e.target.value});break;case n.cardInput:n.setState({cardName:e.target.value})}},n.inputKeyHandler=function(e){"Enter"!==e.key&&"Escape"!==e.key||n.headingInput.current.blur()},n.inputBlurHandler=function(e){switch(e){case n.headingInput:""===n.state.colName&&n.setState({colName:n.props.colName}),n.setState({isHeadingInputFocused:!1}),localStorage.setItem(n.props.colName,n.state.colName);break;case n.cardInput:n.setState({isCardInputFocused:!1})}},n.inputFocusHandler=function(e){switch(e.current.focus(),e){case n.headingInput:n.setState({isHeadingInputFocused:!0,isCardInputFocused:!1});break;case n.cardInput:n.setState({isCardInputFocused:!0})}},n.onDelete=function(e){var t=n.state.cards;0===(t=t.filter((function(t){return e!==t.name}))).length?(n.setState({cards:[]}),localStorage.removeItem(n.state.colName+" Cards")):(n.setState({cards:t}),setTimeout((function(){return localStorage.setItem(n.state.colName+" Cards",JSON.stringify(n.state.cards),0)}))),setTimeout((function(){return n.cards=n.state.cards}),0)},n.cardNameChanged=function(e,t){var a=n.state.cards;a[n.state.cards.findIndex((function(e){return e.index===t}))].name=e.target.value,n.setState({cards:a})},n.cardNameInputBlurred=function(e){""===n.state.cards[n.state.cards.findIndex((function(t){return t.index===e}))].name?(n.cards[n.state.cards.findIndex((function(t){return t.index===e}))].name=n.defaultCardName,n.setState({cards:n.cards}),setTimeout((function(){return localStorage.setItem(n.colName+" Cards",JSON.stringify(n.state.cards))}),0)):setTimeout((function(){return localStorage.setItem(n.props.colName+" Cards",JSON.stringify(n.state.cards))}),0)},n.cardNameInputFocused=function(e){n.defaultCardName=n.state.cards[n.state.cards.findIndex((function(t){return t.index===e}))].name},n.addCard=function(){var e=n.state.cards;""===n.state.cardName?alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"):(e.push({index:n.state.cardsCount,name:n.state.cardName,comments:0}),n.setState({cards:e,cardName:"",isCardInputFocused:!1,cardsCount:n.state.cardsCount+1}),n.cardInput.current.value="",localStorage.setItem(n.props.colName+" Cards",JSON.stringify(n.state.cards)),setTimeout((function(){return localStorage.setItem(n.props.colName+" count",n.state.cardsCount)}),0)),n.cards=n.state.cards},n}return Object(u.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({username:localStorage.getItem("username"),colName:localStorage.getItem(this.props.colName)||this.props.colName,cards:JSON.parse(localStorage.getItem(this.props.colName+" Cards"))||[],cardsCount:JSON.parse(localStorage.getItem(this.props.colName+" count"))}),setTimeout((function(){return e.cards=e.state.cards}),0)}},{key:"render",value:function(){var e=this;return o.a.createElement(d.a,{className:N.a.Column},o.a.createElement(h.a,null,o.a.createElement(p.a,null,o.a.createElement("h5",{md:4,onClick:function(){return e.inputFocusHandler(e.headingInput)},style:{display:this.state.isHeadingInputFocused?"none":"block",width:"100%",marginTop:"2px",overflowWrap:"break-word"}},this.state.colName),o.a.createElement("input",{onChange:function(t){return e.inputChangeHandler(t,e.headingInput)},onBlur:function(){return e.inputBlurHandler(e.headingInput)},onKeyPress:this.inputKeyHandler,value:this.state.colName,ref:this.headingInput,style:{position:this.state.isHeadingInputFocused?"static":"absolute",top:"3%",marginLeft:"-1px",width:"90%",border:"1px solid #0079bf",fontSize:"1.25rem",fontWeight:"500",padding:"1px 0",marginBottom:"6px",lineHeight:"1.2",zIndex:this.state.isHeadingInputFocused?"1":"-1"}})),o.a.createElement(p.a,null,o.a.createElement(d.a,null,this.state.cards.map((function(t,n){return o.a.createElement("div",{key:n},o.a.createElement(w,{index:t.index,username:e.state.username,cardNameValue:t.name,focused:function(){return e.cardNameInputFocused(t.index)},blurred:function(){return e.cardNameInputBlurred(t.index)},onDelete:function(){return e.onDelete(t.name)},cardName:t.name,comments:t.comments,colName:e.state.colName,cardNameChanged:function(n){return e.cardNameChanged(n,t.index)}}))})))),o.a.createElement(p.a,null,o.a.createElement("div",null,o.a.createElement("div",{style:{position:this.state.isCardInputFocused?"static":"absolute",top:"-3%",marginBottom:"15px",zIndex:this.state.isCardInputFocused?"1":"-1"}},o.a.createElement("input",{onChange:function(t){return e.inputChangeHandler(t,e.cardInput)},onKeyPress:this.inputKeyHandler,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a",ref:this.cardInput,style:{marginLeft:"-1px",width:"90%",border:"1px solid #0079bf",fontSize:"16px",padding:"1px 0",marginBottom:"6px",lineHeight:"1.2"}}),o.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.addCard,style:{marginRight:"20px"}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),o.a.createElement("button",{onClick:function(){return e.inputBlurHandler(e.cardInput)},type:"button",className:"btn btn-secondary"},"\u041e\u0442\u043c\u0435\u043d\u0430")),o.a.createElement("button",{type:"button",onClick:function(){return e.inputFocusHandler(e.cardInput)},className:"btn btn-outline-primary",style:{display:this.state.isCardInputFocused?"none":"block",marginBottom:"15px"}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443")))))}}]),t}(a.Component),F=function(e){return o.a.createElement(D,{colName:"ToDo"})},H=function(e){return o.a.createElement(D,{colName:"InProgress"})},j=function(e){return o.a.createElement(D,{colName:"Testing"})},_=function(e){return o.a.createElement(D,{colName:"Done"})},B=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={username:""},n.usernameChanged=function(e){n.setState({username:e.target.value})},n.onLogin=function(){""===n.state.username?alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"):n.props.onHide(n.state.username)},n}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return o.a.createElement(x.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),o.a.createElement(x.a.Header,null,o.a.createElement(x.a.Title,{id:"contained-modal-title-vcenter"},"\u0412\u0445\u043e\u0434")),o.a.createElement(x.a.Body,{style:{display:"flex",alignItems:"center"}},o.a.createElement("p",{style:{margin:"0"}},"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: "),o.a.createElement("input",{placeholder:"username",value:this.state.username,onChange:this.usernameChanged})),o.a.createElement(x.a.Footer,null,o.a.createElement(S.a,{onClick:this.onLogin},"Log-in")))}}]),t}(a.Component),J=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(n=Object(i.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).state={username:"",isLoginShow:!1},n.onHide=function(e){n.setState({username:e,isLoginShow:!1}),setTimeout((function(){return localStorage.setItem("username",n.state.username)}),0)},n}return Object(u.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){""!==localStorage.getItem("username")&&localStorage.getItem("username")||this.setState({isLoginShow:!0})}},{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(d.a,{className:f.a.Layout},o.a.createElement(p.a,{className:f.a.Header},o.a.createElement(h.a,{md:12},o.a.createElement("h1",{className:"text-center"},"Trello"))),o.a.createElement(p.a,null,o.a.createElement(h.a,{xs:6,sm:3,md:3},o.a.createElement(F,null)),o.a.createElement(h.a,{xs:6,sm:3,md:3},o.a.createElement(H,null)),o.a.createElement(h.a,{xs:6,sm:3,md:3},o.a.createElement(j,null)),o.a.createElement(h.a,{xs:6,sm:3,md:3},o.a.createElement(_,null)))),o.a.createElement(B,{show:this.state.isLoginShow,onHide:this.onHide}))}}]),t}(a.Component);n(41);var L=function(){return o.a.createElement(J,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[32,1,2]]]);
//# sourceMappingURL=main.86c603a8.chunk.js.map