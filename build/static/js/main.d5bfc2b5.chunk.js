(this.webpackJsonpkanban=this.webpackJsonpkanban||[]).push([[0],{27:function(e,t,a){e.exports={Comment:"commentItem_Comment__1rxLZ",CommentText:"commentItem_CommentText__UIyKI",CommentTextChange:"commentItem_CommentTextChange__2YYL8",CommentControl:"commentItem_CommentControl__2EQK3"}},33:function(e,t,a){e.exports={Card:"cardItem_Card__YOaxC",CardName:"cardItem_CardName__2UIRF",CardComments:"cardItem_CardComments__2fM2-"}},38:function(e,t,a){e.exports={Layout:"layout_Layout__2A_Ds",Header:"layout_Header__3QZq6"}},39:function(e,t,a){e.exports={DescriptionTextArea:"description_DescriptionTextArea__11H08",SaveButton:"description_SaveButton__dcLnU"}},42:function(e,t,a){e.exports={AddCardControl:"addCard_AddCardControl__hbDWH",ButtonWrapper:"addCard_ButtonWrapper__3zw3-"}},47:function(e,t,a){e.exports={Column:"column_Column__2HWaQ"}},48:function(e,t,a){e.exports={Caption:"caption_Caption__10JVT"}},50:function(e,t,a){e.exports={AddComment:"commentCreateForm_AddComment__XqS7s"}},51:function(e,t,a){e.exports={SubHeading:"cardModal_SubHeading__3ehIg"}},53:function(e,t,a){e.exports={ModalBody:"login_ModalBody__1Ouss"}},58:function(e,t,a){e.exports=a(75)},68:function(e,t,a){},72:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var n,r,c=a(0),o=a.n(c),l=a(13),m=a.n(l),i=a(14),u=(a(68),a(69),a(56)),s=a(77),d=a(79),p=a(78),C=a(6),b=a(17),f=a(83),h=a(81),E=Object(f.a)("EDIT_COL_NAME"),v=Object(h.a)(Object(C.a)({},E,(function(e,t){var a=t.payload,n=a.id,r=a.text;return e.map((function(e){return e.id===n?Object(b.a)({},e,{name:r}):e}))})),[{id:0,name:"ToDo"},{id:1,name:"InProgress"},{id:2,name:"Testing"},{id:3,name:"Done"}]),O=Object(f.a)("LOGIN"),g=Object(h.a)(Object(C.a)({},O,(function(e,t){return t.payload.text})),""),j=a(38),_=a.n(j),y=a(47),N=a.n(y),x=a(7),S=a(8),I=a(10),D=a(9),T=a(11),k=a(80),w=a(82),A=a(48),F=a.n(A),L=function(e){function t(){var e,a;Object(x.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(I.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).state={labelValue:a.props.captionName,isLabelShowed:!1},a.onInputBlurred=function(){var e=a.state.labelValue,t=a.props,n=t.captionName,r=t.changeInputName;a.setState({isLabelShowed:!1}),e.trim()?r(e):a.setState({labelValue:n})},a.inputKeyHandler=function(e){"Enter"!==e.key&&"Escape"!==e.key||(a.setState({isLabelShowed:!1}),a.onInputBlurred())},a}return Object(T.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.isLabelShowed,n=t.labelValue;return o.a.createElement("div",{className:F.a.Caption},a?o.a.createElement("input",{autoFocus:!0,onChange:function(t){return e.setState({labelValue:t.target.value})},onBlur:this.onInputBlurred,onKeyUp:this.inputKeyHandler,value:n}):o.a.createElement("h5",{md:4,onClick:function(){return e.setState({isLabelShowed:!0})}},n))}}]),t}(c.Component),H=a(39),B=a.n(H),M=function(e){function t(){var e,a;Object(x.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(I.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).state={isOpened:!1,description:a.props.cardDesc},a.onDescSaved=function(e){a.setState({isOpened:!1},(function(){return a.props.onDescSaved(e)}))},a}return Object(T.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.isOpened,n=t.description;return o.a.createElement(o.a.Fragment,null,o.a.createElement("b",null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),a?o.a.createElement("div",null,o.a.createElement("textarea",{autoFocus:!0,onChange:function(t){return e.setState({description:t.target.value})},value:n,className:B.a.DescriptionTextArea}),o.a.createElement(w.a,{className:B.a.SaveButton,onClick:function(){return e.onDescSaved(n)}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),o.a.createElement(w.a,{className:"btn btn-secondary",onClick:function(){return e.setState({isOpened:!1,description:e.props.cardDesc})}},"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c")):o.a.createElement("p",{onClick:function(){return e.setState({isOpened:!0})}},n.trim()||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"))}}]),t}(c.Component),V=a(50),K=a.n(V),R=function(e){function t(){var e,a;Object(x.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(I.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).state={isCommentFocus:!1,commentText:""},a.onCommentSaved=function(e){a.state.commentText.trim()&&(a.props.onCommentSaved(a.state.commentText),a.setState({isCommentFocus:!1,commentText:""}))},a}return Object(T.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.isCommentFocus,n=t.commentText;return o.a.createElement(o.a.Fragment,null,o.a.createElement("b",null,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438"),o.a.createElement("div",{className:K.a.AddComment,style:{height:a?"150px":"50px"},onChange:function(t){return t.target.value?e.setState({isCommentFocus:!0}):e.setState({isCommentFocus:!1})}},o.a.createElement("textarea",{placeholder:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439...",value:n,onChange:function(t){return e.setState({commentText:t.target.value})}}),a&&o.a.createElement(w.a,{className:"btn btn-success",onClick:this.onCommentSaved,onFocus:function(){return e.setState({isCommentFocus:!0})}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")))}}]),t}(c.Component),U=a(27),W=a.n(U),X=function(e){function t(){var e,a;Object(x.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(I.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).state={isCommentChanging:!1,commentText:a.props.commentText},a.onCommentSave=function(){a.setState({isCommentChanging:!1},(function(){return a.props.onCommentChange(a.state.commentText)}))},a.onCommentChange=function(e){a.setState({isCommentChanging:!0,commentText:e.target.value})},a}return Object(T.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onCommentDelete,a=e.username,n=e.commentText,r=this.state.isCommentChanging;return o.a.createElement("div",{className:W.a.Comment},o.a.createElement("b",null,a),o.a.createElement("div",{className:W.a.CommentText},r?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:W.a.CommentTextChange},o.a.createElement("textarea",{autoFocus:!0,defaultValue:n,onChange:this.onCommentChange})),o.a.createElement(w.a,{className:"btn btn-success",onClick:this.onCommentSave},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")):o.a.createElement("p",null,n)),o.a.createElement("div",{className:W.a.CommentControl},o.a.createElement("p",{onClick:this.onCommentChange},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"),o.a.createElement("p",{onClick:t},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")))}}]),t}(c.Component),z=a(32),J=Object(f.a)("ADD_CARD"),Q=Object(f.a)("EDIT_CARD_NAME"),Y=Object(f.a)("DELETE_CARD"),q=Object(f.a)("EDIT_CARD_DESC"),Z=Object(h.a)((n={},Object(C.a)(n,J,(function(e,t){var a=t.payload,n=a.id,r=a.colId,c=a.text;return[].concat(Object(z.a)(e),[{id:n,colId:r,name:c,comments:0,cardDesc:""}])})),Object(C.a)(n,Q,(function(e,t){var a=t.payload,n=a.id,r=a.text;return e.map((function(e){return e.id===n?Object(b.a)({},e,{name:r}):e}))})),Object(C.a)(n,Y,(function(e,t){return e.filter((function(e){return e.id!==t.payload.id}))})),Object(C.a)(n,q,(function(e,t){var a=t.payload,n=a.cardId,r=a.text;return e.map((function(e){return e.id===n?Object(b.a)({},e,{cardDesc:r}):e}))})),n),[]),G=Object(f.a)("ADD_COMMENT"),P=Object(f.a)("EDIT_COMMENT"),$=Object(f.a)("DELETE_COMMENT"),ee=Object(h.a)((r={},Object(C.a)(r,G,(function(e,t){var a=t.payload,n=a.id,r=a.cardId,c=a.text;return[].concat(Object(z.a)(e),[{id:n,cardId:r,value:c}])})),Object(C.a)(r,P,(function(e,t){var a=t.payload,n=a.id,r=a.text;return e.map((function(e){return e.id===n?Object(b.a)({},e,{value:r}):e}))})),Object(C.a)(r,$,(function(e,t){return e.filter((function(e){return e.id!==t.payload.id}))})),r),[]),te=a(51),ae=a.n(te),ne=a(28),re=function(e){return e.login},ce=a(29),oe=Object(ce.a)((function(e){return e.comments}),(function(e,t){return t}),(function(e,t){return e.filter((function(e){return e.cardId===t}))}));var le=Object(i.b)((function(e,t){return{comments:oe(e,t.cardId),username:re(e)}}))((function(e){var t=e.colName,a=e.dispatch,n=e.cardId,r=e.comments,c=e.show,l=e.onHide,m=e.cardName,i=e.cardDesc,u=e.username;return o.a.createElement(k.a,{show:c,onHide:l,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},o.a.createElement(k.a.Header,{closeButton:!0},o.a.createElement(k.a.Title,{id:"contained-modal-title-vcenter"},o.a.createElement(L,{captionName:m,changeInputName:function(e){return a(Q({text:e,id:n}))}}),o.a.createElement("p",{className:ae.a.SubHeading},"\u0432 \u043a\u043e\u043b\u043e\u043d\u043a\u0435 ",t))),o.a.createElement(k.a.Body,null,o.a.createElement(M,{cardDesc:i,onDescSaved:function(e){return a(q({cardId:n,text:e}))}})),o.a.createElement(k.a.Body,null,o.a.createElement(R,{onCommentSaved:function(e){return a(G({id:Object(ne.v4)(),cardId:n,text:e}))}}),r.map((function(e,t){var n=e.id,r=e.value;return o.a.createElement(X,{key:t,username:u,onCommentChange:function(e){return a(P({id:n,text:e}))},commentText:r,onCommentDelete:function(){return a($({id:n}))}})}))),o.a.createElement(k.a.Footer,null,o.a.createElement(w.a,{className:"btn btn-danger",onClick:function(){var t=e.onHide;a(Y({id:n})),t()}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"),o.a.createElement(w.a,{onClick:l},"\u0417\u0430\u043a\u0440\u044b\u0442\u044c")))})),me=a(33),ie=a.n(me),ue=function(e){function t(){var e,a;Object(x.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(I.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).state={isModalShowed:!1},a.onModalToggle=function(){return a.setState({isModalShowed:!a.state.isModalShowed})},a}return Object(T.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props,t=e.colName,a=e.cardId,n=e.cardName,r=e.cardDesc,c=e.comments,l=this.state.isModalShowed;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:ie.a.Card,onClick:this.onModalToggle,type:"button"},o.a.createElement("div",{className:ie.a.CardName},o.a.createElement("p",null,n)),o.a.createElement("div",{className:ie.a.CardComments},o.a.createElement("img",{src:"https://image.flaticon.com/icons/svg/1946/1946412.svg",alt:""}),o.a.createElement("p",null,c))),o.a.createElement(le,{cardDesc:r,cardId:a,clicked:this.changeDesc,show:l,onHide:this.onModalToggle,cardName:n,colName:t}))}}]),t}(c.Component),se=a(42),de=a.n(se),pe=function(e){function t(){var e,a;Object(x.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(I.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).state={cardName:"",isCardFormOpened:!1},a.onCardAdded=function(){if(!a.state.cardName.trim())return alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438");a.props.onCardAdded(a.state.cardName),a.onCardFormClosed()},a.onCardFormClosed=function(){return a.setState({cardName:"",isCardFormOpened:!1})},a.inputKeyHandler=function(e){"Enter"===e.key&&a.onCardAdded(),"Escape"===e.key&&a.onCardFormClosed()},a}return Object(T.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.isCardFormOpened,n=t.cardName;return o.a.createElement(o.a.Fragment,null,a?o.a.createElement("div",{className:de.a.AddCardControl},o.a.createElement("input",{autoFocus:!0,onChange:function(t){return e.setState({cardName:t.target.value})},value:n,onKeyUp:this.inputKeyHandler,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"}),o.a.createElement("button",{type:"button",className:"btn btn-success",onClick:this.onCardAdded},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"),o.a.createElement("button",{onClick:this.onCardFormClosed,type:"button",className:"btn btn-secondary"},"\u041e\u0442\u043c\u0435\u043d\u0430")):o.a.createElement("div",{className:de.a.ButtonWrapper},o.a.createElement("button",{type:"button",onClick:function(){return e.setState({isCardFormOpened:!0})},className:"btn btn-outline-primary"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443")))}}]),t}(c.Component),Ce=Object(ce.a)((function(e){return e.cards}),(function(e){return e.comments}),(function(e,t){return t}),(function(e,t,a){return e.filter((function(e){return e.colId===a})).map((function(e){var a=t.filter((function(t){return t.cardId===e.id})).length;return Object(b.a)({},e,{commentsLength:a})}))}));var be=Object(i.b)((function(e,t){return{cards:Ce(e,t.colId)}}))((function(e){var t=e.colName,a=e.dispatch,n=e.colId,r=e.cards;return o.a.createElement(o.a.Fragment,null,r.map((function(e,a){var n=e.name,c=e.id,l=e.cardDesc;return o.a.createElement("div",{key:c},o.a.createElement(ue,{index:c,cardId:c,comments:r[a].commentsLength,cardNameValue:n,cardName:n,colName:t,cardDesc:l}))})),o.a.createElement(pe,{colName:t,onCardAdded:function(e){return a(J({id:Object(ne.v4)(),colId:n,text:e}))}}))})),fe=function(e){var t=e.colName,a=e.colId,n=e.changeColumnName;return o.a.createElement(s.a,{className:N.a.Column},o.a.createElement(p.a,null,o.a.createElement(d.a,null,o.a.createElement(L,{captionName:t,changeInputName:n})),o.a.createElement(d.a,null,o.a.createElement(s.a,null,o.a.createElement(be,{colName:t,colId:a})))))},he=a(53),Ee=a.n(he),ve=function(e){function t(){var e,a;Object(x.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(I.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).state={username:""},a.usernameChanged=function(e){a.setState({username:e.target.value})},a.onLogin=function(){var e=a.state.username;e?a.props.onHide(e):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f")},a}return Object(T.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){return o.a.createElement(k.a,Object.assign({},this.props,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),o.a.createElement(k.a.Header,null,o.a.createElement(k.a.Title,{id:"contained-modal-title-vcenter"},"\u0412\u0445\u043e\u0434")),o.a.createElement(k.a.Body,{className:Ee.a.ModalBody},o.a.createElement("p",null,"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f: "),o.a.createElement("input",{placeholder:"username",value:this.state.username,onChange:this.usernameChanged})),o.a.createElement(k.a.Footer,null,o.a.createElement(w.a,{onClick:this.onLogin},"\u0412\u043e\u0439\u0442\u0438")))}}]),t}(c.Component),Oe=function(e){return e.columnsList};var ge=Object(i.b)(null,null)((function(e){var t=e.dispatch,a=Object(i.c)(Oe),n=Object(i.c)(re),r=Object(c.useState)(!Boolean(n)),l=Object(u.a)(r,2),m=l[0],C=l[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement(s.a,{className:_.a.Layout},o.a.createElement(d.a,{className:_.a.Header},o.a.createElement(p.a,{md:12},o.a.createElement("h1",{className:"text-center"},"Trello"))),o.a.createElement(d.a,null,a.map((function(e){return o.a.createElement(p.a,{xs:6,sm:3,md:3,key:e.id},o.a.createElement(fe,{colName:e.name,colId:e.id,changeColumnName:function(a){return t(E({id:e.id,text:a}))}}))})))),o.a.createElement(ve,{show:m,onHide:function(e){t(O({text:e})),C(!1)}}))}));a(72);var je=function(){return o.a.createElement(ge,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var _e=a(31),ye=a(54),Ne=a(15),xe=Object(Ne.b)({cards:Z,columnsList:v,comments:ee,login:g}),Se=a(55),Ie={key:"root",storage:a.n(Se).a},De=Object(_e.a)(Ie,xe),Te=Object(Ne.c)(De,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());m.a.render(o.a.createElement(i.a,{store:Te},o.a.createElement(ye.a,{loading:null,persistor:Object(_e.b)(Te)},o.a.createElement(je,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[58,1,2]]]);
//# sourceMappingURL=main.d5bfc2b5.chunk.js.map